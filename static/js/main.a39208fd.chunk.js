(this["webpackJsonpreact-projects"]=this["webpackJsonpreact-projects"]||[]).push([[0],{129:function(e,t,n){},257:function(e,t,n){e.exports=n(421)},421:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return oe})),n.d(t,"URL",(function(){return ie}));var a=n(0),r=n.n(a),c=n(43),l=n.n(c),o=n(62),i=n(16),u=n(227),s=n(25),m=n(228);n.n(m).a;var d=Object(o.c)({projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PROJECT":var n={title:t.newProject.title,started:"",description:t.newProject.description,id:t.newProject.id};return[].concat(Object(s.a)(e),[n]);case"DELETE_PROJECT":return Object(s.a)(e.filter((function(e){return e.id!==t.id})));case"EDIT_PROJECT":var a=e.findIndex((function(e){return e.id===t.project.id}));return[].concat(Object(s.a)(e.slice(0,a)),[t.project],Object(s.a)(e.slice(a+1)));case"LOAD_PROJECTS":var r=t.projects.data.map((function(e){return e.attributes}));return Object(s.a)(e.concat(r));case"LOADING_PROJECTS":return Object(s.a)(e);default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TASK":return Object(s.a)(e.concat(t.newTask));case"DELETE_TASK":return Object(s.a)(e.filter((function(e){return e.id!==t.id})));case"EDIT_TASK":var n=e.findIndex((function(e){return e.id===t.task.id}));return[].concat(Object(s.a)(e.slice(0,n)),[t.task],Object(s.a)(e.slice(n+1)));case"LOAD_TASKS":var a=t.tasks.data.map((function(e){return e.attributes}));return Object(s.a)(e.concat(a));default:return e}},people:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PERSON":var n={username:t.newPerson.username,image:t.newPerson.image,id:t.newPerson.id};return[].concat(Object(s.a)(e),[n]);case"DELETE_PERSON":var a;return e.map((function(e){return e.id!==t.id?a=e:null})),Object(s.a)(e.filter((function(e){return e.username!==a.username})));case"LOAD_PEOPLE":var r=t.people.data.map((function(e){return e.attributes}));return Object(s.a)(e.concat(r));default:return e}}}),p=n(20),f=n(18),E=n(39),b=n(21),h=(n(129),function(e){return r.a.createElement("div",{className:"ui stackable menu"},r.a.createElement("div",{className:"header item"},"Projects Dashboard"),e.loggedIn?null:r.a.createElement(E.b,{to:"/login",className:"ui item"},"Login"),e.loggedIn?null:r.a.createElement(E.b,{to:"/signup",className:"ui item"},"Signup"),e.loggedIn?r.a.createElement(E.b,{to:"/profile",className:"ui item"},"Profile"):null,e.loggedIn?r.a.createElement("a",{className:"ui item right",onClick:function(t){return e.handleLogout(t)}}," Logout "):null)}),j=function(){return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"ui left vertical inverted icon visible sidebar menu"},r.a.createElement(E.b,{to:"/",className:"item"},r.a.createElement("i",{"aria-hidden":"true",className:"home icon"}),"Home"),r.a.createElement(E.b,{to:"/projects",className:"item"},r.a.createElement("i",{"aria-hidden":"true",className:"sitemap icon"}),"Projects"),r.a.createElement(E.b,{to:"/people",className:"item"},r.a.createElement("i",{"aria-hidden":"true",className:"users icon"}),"People")))};function g(e){var t={method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({title:e.title,description:e.description})};return function(n){fetch("".concat(ie,"/projects/").concat(e.id),t).then((function(e){return e.json()})).then((function(e){var t=e.data.attributes;n({type:"EDIT_PROJECT",project:t})}))}}function O(e){var t={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({description:"New task...",project_id:e,person_id:1,completed:!1})};return function(e){fetch("".concat(ie,"/tasks"),t).then((function(e){return e.json()})).then((function(t){var n=t.data.attributes;e({type:"ADD_TASK",newTask:n})}))}}function v(e){var t={method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}};return function(n){fetch("".concat(ie,"/tasks/").concat(e),t).then((function(e){return e.json()})).then((function(){n({type:"DELETE_TASK",id:e})}))}}function k(e){var t={method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({description:e.description,person_id:parseInt(e.person_id),project_id:e.project_id,completed:e.completed})};return function(n){fetch("".concat(ie,"/tasks/").concat(e.id),t).then((function(e){return e.json()})).then((function(e){var t=e.data.attributes;n({type:"EDIT_TASK",task:t})}))}}var C=n(434),y=n(431),T=n(441),S=n(23),P=n(165),w=n(124),N=n(248),D=n(436),_=n(440),A=function(e){return r.a.createElement(D.a.Button,{onClick:e.closeModal,type:"submit"},"Cancel")},L=function(e){return r.a.createElement(D.a.Input,{type:"text",onChange:function(t){return e.handleOnChange(t)},value:e.title,name:"title",placeholder:e.title})},I=function(e){return r.a.createElement(D.a.TextArea,{type:"text",onChange:function(t){return e.handleOnChange(t)},value:e.description,name:"description",placeholder:e.description})},x=function(e){var t=Object(a.useState)({title:"",description:""}),n=Object(f.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(!1),i=Object(f.a)(o,2),u=i[0],s=i[1],m=function(e){l(Object(p.a)(Object(p.a)({},c),{},Object(S.a)({},e.target.name,e.target.value)))},d=function(){s(!0)},E=function(){s(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{onClick:d}," ",r.a.createElement("i",{className:"add icon center"})),r.a.createElement(w.a,{dimmer:"inverted",open:u},r.a.createElement(w.a.Header,null,"Add a project:"),r.a.createElement(w.a.Content,{image:!0},r.a.createElement(N.a,{wrapped:!0,size:"medium",alt:"Workbench and tools",src:"https://images.unsplash.com/photo-1416339158484-9637228cc908?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1934&q=80"}),r.a.createElement(w.a.Description,null,r.a.createElement(D.a,null,r.a.createElement(_.a,null,"Title:"),r.a.createElement(L,{handleOnChange:m,title:c.title}),r.a.createElement(_.a,null,"Description:"),r.a.createElement(I,{handleOnChange:m,description:c.description}),r.a.createElement(D.a.Button,{onClick:function(t){return function(t){t.preventDefault(),e.createNewProject(c),l({title:"",description:""}),s(!1)}(t)},type:"submit"},"Submit"),r.a.createElement(A,{closeModal:E})))))))},U=n(435),J=n(433),F=n(432),R=n(437),H=n(91),K=function(e){var t=Object(a.useState)(e.task),n=Object(f.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(null),u=Object(f.a)(o,2),s=u[0],m=u[1],d=Object(a.useState)(null),E=Object(f.a)(d,2),b=E[0],h=E[1],j=Object(i.d)((function(e){return e.people})),g=Object(i.c)();Object(a.useEffect)((function(){var e=[];j.map((function(t){return e.push({id:t.id,key:t.username,text:t.username,value:t.username,image:{avatar:!0,src:t.image}})})),h(e),m(e.find((function(e){return e.id===c.person_id})))}),[]);var O=function(){l(Object(p.a)(Object(p.a)({},c),{},{completed:!0}))},C=function(){l(Object(p.a)(Object(p.a)({},c),{},{completed:!1}))},T=function(){g(k(c))},S=function(){g(v(c.id))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,null,c.completed?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(H.a,{color:"green",image:!0},r.a.createElement("img",{alt:"Profile Pic",src:"https://api.adorable.io/avatars/77/stevie@adorable.io.png"}),"completed by ",s?s.key:"Yet to be assigned",r.a.createElement(H.a.Detail,null,c.description)),r.a.createElement(P.a,{onClick:T,icon:"save"}),r.a.createElement(P.a,{onClick:C,icon:"redo"}),r.a.createElement(P.a,{onClick:S,icon:"trash"}),r.a.createElement("br",null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(y.a,{size:"small",labelPosition:"right",type:"text",value:c.description,placeholder:c.description},r.a.createElement(F.a,{onChange:function(e){return l(Object(p.a)(Object(p.a)({},c),{},{description:e.target.value}))},value:c.description,rows:"4",cols:"70"}),r.a.createElement(P.a,{onClick:T,icon:"save"}),r.a.createElement(P.a,{onClick:O,icon:"check circle"}),r.a.createElement(P.a,{onClick:S,icon:"trash"})),r.a.createElement("br",null),"Assigned to: ",r.a.createElement(R.a,{button:!0,className:"icon",placeholder:s?s.key:"Yet to be assigned",onChange:function(e){return function(e){var t=j.findIndex((function(t){return t.username===e.target.innerText}));l(Object(p.a)(Object(p.a)({},c),{},{person_id:j[t].id}))}(e)},floating:!0,labeled:!0,icon:"users",options:b}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))))},M=n(247),W=(n(419),function(e){var t=Object(i.d)((function(e){return e.people})),n=Object(i.d)((function(e){return e.projects})),c=Object(i.d)((function(e){return e.tasks})),l=Object(a.useState)(null),o=Object(f.a)(l,2),u=o[0],s=o[1],m=Object(a.useState)(null),d=Object(f.a)(m,2),E=d[0],b=d[1],h=Object(a.useState)(!1),j=Object(f.a)(h,2),y=j[0],A=j[1],L=Object(a.useState)(!0),I=Object(f.a)(L,2),x=I[0],U=I[1],F=Object(a.useState)(0),R=Object(f.a)(F,2),H=R[0],W=R[1],z=Object(i.c)();Object(a.useEffect)((function(){s(n.find((function(t){return t.id===parseInt(e.project_id)}))),b(c.filter((function(t){return t.project_id===parseInt(e.project_id)}))),U(!1)}),[]),Object(a.useEffect)((function(){B()}),[E]);var B=function(){if(E)for(var e=0,t=0,n=0;n<E.length;n++)!0===E[n].completed?e++:t++,W(e/(t+e)*100)},q=function(){A(!1)},G=function(e){e.preventDefault(),z(g(u)),A(!1)},Q=function(e){s(Object(p.a)(Object(p.a)({},u),{},Object(S.a)({},e.target.name,e.target.value)))},Y=function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{columns:3},r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,null,r.a.createElement(P.a,{basic:!0,secondary:!0,content:"Edit Project",labelPosition:"right",icon:"pencil",onClick:function(e){A(!0)}})),r.a.createElement(T.a.Column,null),r.a.createElement(T.a.Column,null,r.a.createElement(P.a,{basic:!0,content:"Exit Project Page",onClick:function(t){return e.handleHideTasksModal(t)},secondary:!0})))),r.a.createElement(_.a,null,t.title),r.a.createElement("p",null,t.description))},$=function(){z(O(u.id))};return r.a.createElement(r.a.Fragment,null,c[0]?null:r.a.createElement(C.a,{active:!0},"Loading"),x?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui grid container"},r.a.createElement("div",{className:"eight wide column"},r.a.createElement(w.a,{size:"large",dimmer:"inverted",open:!0},r.a.createElement("p",null,"Loading"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui grid container"},r.a.createElement("div",{className:"eight wide column"},r.a.createElement(w.a,{size:"large",dimmer:"inverted",open:!0},r.a.createElement(w.a.Header,null),r.a.createElement(w.a.Content,{image:!0,scrolling:!0},r.a.createElement(N.a,{size:"medium",alt:"Workbench and tools",src:"https://images.unsplash.com/photo-1416339158484-9637228cc908?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1934&q=80",wrapped:!0}),r.a.createElement(w.a.Description,null,y?function(e){return r.a.createElement(w.a.Description,null,r.a.createElement(D.a,{onSubmit:function(e){return G(e)}},r.a.createElement(D.a.Input,{type:"text",onChange:function(e){return Q(e)},value:e.title,name:"title"}),r.a.createElement(D.a.TextArea,{type:"textarea",onChange:function(e){return Q(e)},value:e.description,name:"description"}),r.a.createElement(P.a,{icon:"save",type:"submit"}),r.a.createElement(P.a,{icon:"close",onClick:q})))}(u):Y(u),r.a.createElement(M.Progress,{type:"circle",width:30,percent:H,status:"success"}),r.a.createElement(J.a,{horizontal:!0},"Tasks"),r.a.createElement(P.a,{basic:!0,secondary:!0,onClick:$},"Add Task"),r.a.createElement("br",null),c.filter((function(e){return e.project_id===u.id})).map((function(e){return r.a.createElement(K,{key:e.id,task:e,people:t,deleteTask:v,project_id:u.id,editTask:k,id:e.id,description:e.description,completed:e.completed})})))))))))}),z=function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(!1),i=Object(f.a)(o,2),u=i[0],s=i[1],m=function(){s(!0)};return r.a.createElement(r.a.Fragment,null,u?r.a.createElement(W,{handleHideTasksModal:function(){s(!1)},project_id:e.project.id}):null,r.a.createElement("div",{className:"eight wide column"},r.a.createElement("div",{className:"ui card"},r.a.createElement("div",{className:"content"},r.a.createElement("a",{className:"header",onClick:function(e){return m()}},e.title),r.a.createElement("div",{className:"meta"},r.a.createElement("span",{className:"date"},e.started)),r.a.createElement("div",{className:"description"},e.description)),r.a.createElement("div",{className:"extra content"},r.a.createElement("div",{className:"left floated right aligned six wide column"},r.a.createElement(P.a,{basic:!0,icon:"pencil",onClick:function(e){return m()}}),r.a.createElement(P.a,{basic:!0,icon:"trash",onClick:function(e){l(!0)}}),r.a.createElement(U.a,{open:c,onCancel:function(){l(!1)},onConfirm:function(){e.deleteProjectCallback(e.id),l(!1)}}))))))};var B=function(){var e=Object(a.useState)(!1),t=Object(f.a)(e,2),n=(t[0],t[1],Object(a.useState)("")),c=Object(f.a)(n,2),l=c[0],o=c[1],u=Object(i.d)((function(e){return e.projects})),s=Object(i.d)((function(e){return e.people})),m=Object(i.d)((function(e){return e.tasks})),d=Object(i.c)(),p=function(e){d(function(e){var t={method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}};return function(n){fetch("".concat(ie,"/projects/").concat(e),t).then((function(e){return e.json()})).then((function(){n({type:"DELETE_PROJECT",id:e})}))}}(e))};return r.a.createElement(r.a.Fragment,null,u[0]?null:r.a.createElement(C.a,{active:!0},"Loading"),r.a.createElement("div",{className:"ui grid container"},r.a.createElement("div",{className:"eight wide column"},r.a.createElement(y.a,{className:"large",placeholder:"Search",onChange:function(e){o(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(x,{createNewProject:function(e){d(function(e){var t={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({title:e.title,description:e.description})};return function(e){fetch("".concat(ie,"/projects"),t).then((function(e){return e.json()})).then((function(t){var n=t.data.attributes;e({type:"ADD_PROJECT",newProject:n})}))}}(e))}}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(T.a,{stackable:!0,container:!0,columns:2},u.filter((function(e){return e.title.toLowerCase().includes(l.toLowerCase())})).map((function(e){return r.a.createElement(z,{key:e.id,project:e,people:s,tasks:m,title:e.title,started:e.started,description:e.description,id:e.id,editProject:g,deleteProjectCallback:p,addTask:O,deleteTask:v,editTask:k})}))),r.a.createElement("br",null),r.a.createElement("br",null))},q=n(438),G=function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(null),i=Object(f.a)(o,2),u=i[0],s=i[1];e.tasks.filter((function(t){return t.person_id===e.id})).map((function(t){return e.projects.find((function(e){return e.id===t.project_id}))}));return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(W,{handleHideTasksModal:function(){l(!1)},project_id:u}):null,r.a.createElement(T.a.Column,null,r.a.createElement(q.a,{image:e.image,header:e.username,description:function(){var t,n=e.tasks.filter((function(t){return t.person_id===e.id})).map((function(n){return t=e.projects.find((function(e){return e.id===n.project_id})),r.a.createElement("li",{key:n.id}," ",r.a.createElement("a",{id:t.id,onClick:function(e){return function(e){s(e.target.id),l(!0)}(e)}}," ",t.title," Project"),": ",n.description,"  ",n.completed?r.a.createElement("p",null,"(Completed)"):r.a.createElement("p",null,"(InProgress)"),"   ")}));return r.a.createElement("ul",null,n)}})))};var Q=function(){var e=Object(i.d)((function(e){return e.people})),t=Object(i.d)((function(e){return e.projects})),n=Object(i.d)((function(e){return e.tasks}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{stackable:!0,container:!0,columns:2},e[0]?null:r.a.createElement(C.a,{active:!0},"Loading"),e.map((function(e){return r.a.createElement(G,{key:e.id,id:e.id,username:e.username,image:e.image,tasks:n,projects:t})}))))};var Y=function(e){return function(t){return fetch("".concat(ie,"/auth"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:e})}).then((function(e){return e.json()}))}};var $=n(52),V=n(53),X=n(54),Z=n(123),ee=n(439),te=function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(){var e;Object($.a)(this,n);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={username:"",password:"",showSucces:!1,error:!1},e.handleChange=function(t){e.setState(Object(S.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){return t.preventDefault(),e.props.createUser({username:e.state.username,password:e.state.password})?e.setState({showSucces:!0}):e.setState({error:!0})},e.renderForm=function(){return e.state.showSucces?r.a.createElement(ee.a,{success:!0},"User Successfully created"):r.a.createElement(D.a,{onSubmit:e.handleSubmit},r.a.createElement("h1",null,"Sign Up For An Account"),r.a.createElement("label",null,"Username"),r.a.createElement(D.a.Input,{name:"username",placeholder:"Username",value:e.state.username,onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Password"),r.a.createElement(D.a.Input,{type:"password",name:"password",placeholder:"Password",value:e.state.password,onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit"}))},e}return Object(V.a)(n,[{key:"render",value:function(){return r.a.createElement(T.a,{stackable:!0,container:!0,columns:1},r.a.createElement(T.a.Column,null,this.renderForm()))}}]),n}(a.Component),ne=Object(i.b)(null,(function(e){return{createUser:function(t){return e(function(e){return function(t){return fetch("".concat(ie,"/people"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:e})}).then((function(e){return e.json()})).then((function(e){var n=e.data.attributes;t({type:"ADD_PERSON",newPerson:n})}))}}(t))}}}))(te),ae=function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(){var e;Object($.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",error:!1},e.handleChange=function(t){e.setState(Object(S.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.loginUser(e.state).then((function(t){t.error?e.setState({error:!0}):(e.props.handleLogin(t),e.props.history.push("/profile"))}))},e}return Object(V.a)(n,[{key:"render",value:function(){return r.a.createElement(T.a,{stackable:!0,container:!0,columns:1},r.a.createElement(T.a.Column,null,r.a.createElement(D.a,{onSubmit:this.handleSubmit,error:!0},r.a.createElement("h1",null,"Login into your account"),r.a.createElement("label",null,"Username"),r.a.createElement(D.a.Input,{name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Password"),r.a.createElement(D.a.Input,{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("br",null),this.state.error?r.a.createElement(ee.a,{error:!0,content:"Wrong username or password"}):null,r.a.createElement("br",null),r.a.createElement("input",{type:"submit"}))))}}]),n}(a.Component),re=Object(i.b)(null,(function(e){return{loginUser:function(t){return e(Y(t))}}}))(ae),ce=function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(null),u=Object(f.a)(o,2),s=u[0],m=u[1],d=Object(i.d)((function(e){return e.people})),p=Object(i.d)((function(e){return e.projects})),E=Object(i.d)((function(e){return e.tasks})),b=d.find((function(t){return t.username===e.currentUser.username}));return r.a.createElement("div",null,E[0]?null:r.a.createElement(C.a,{active:!0},"Loading"),c?r.a.createElement(W,{handleHideTasksModal:function(){l(!1)},project_id:s}):null,r.a.createElement(T.a,{stackable:!0,container:!0,columns:2},r.a.createElement(T.a.Column,null,r.a.createElement(q.a,{image:b.image,header:b.username}),r.a.createElement(P.a,{id:b.id,onClick:function(t){return function(t){e.deletePersonCallback(t.target.id),e.handleLogout(),e.history.push("/signup")}(t)}},"Delete my Account")),r.a.createElement(T.a.Column,null,r.a.createElement(q.a,{header:"Todos:",description:function(){var t,n=E.filter((function(t){return t.person_id===e.currentUser.id})).map((function(e){return t=p.find((function(t){return t.id===e.project_id})),r.a.createElement("li",{key:e.id},r.a.createElement("a",{onClick:function(e){return function(e){m(e.target.id),l(!0)}(e)},id:t.id},t.title," Project"),": ",e.description,"  ",e.completed?r.a.createElement("p",null,"(Completed)"):r.a.createElement("p",null,"(InProgress)"))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,n))}}))))},le=function(){var e=Object(a.useState)({auth:{currentUser:{}},loggedIn:!1,loading:!0}),t=Object(f.a)(e,2),n=t[0],c=t[1],l=Object(i.c)(),o=Object(i.d)((function(e){return e}));Object(a.useEffect)((function(){l((function(e){e({type:"LOADING_PROJECTS"}),fetch("".concat(ie,"/projects")).then((function(e){return e.json()})).then((function(t){e({type:"LOAD_PROJECTS",projects:t})})).catch((function(e){return console.log(e)}))})),l((function(e){fetch("".concat(ie,"/people")).then((function(e){return e.json()})).then((function(t){e({type:"LOAD_PEOPLE",people:t})})).catch((function(e){return console.log(e.message)}))})),l((function(e){fetch("".concat(ie,"/tasks")).then((function(e){return e.json()})).then((function(t){e({type:"LOAD_TASKS",tasks:t})})).catch((function(e){return console.log(e.message)}))})),localStorage.getItem("token")&&l(Y()).then((function(e){var t={currentUser:e};c(Object(p.a)(Object(p.a)({},n),{},{auth:t}))}))}),[]);var u=function(e){var t={currentUser:e};c(Object(p.a)(Object(p.a)({},n),{},{auth:t,loggedIn:!0}))},s=function(){localStorage.removeItem("token"),c(Object(p.a)(Object(p.a)({},n),{},{auth:{currentUser:{}},loggedIn:!1}))},m=function(e){l(function(e){var t={method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}};return function(n){fetch("".concat(ie,"/people/").concat(e),t).then((function(e){return e.json()})).then((function(){n({type:"DELETE_PERSON",id:e})}))}}(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("div",{className:"flexbox"},r.a.createElement(j,null),r.a.createElement("div",{className:"main"},r.a.createElement(h,{currentUser:n.auth.currentUser,handleLogout:s,loggedIn:n.loggedIn}),r.a.createElement("div",{className:"ui container"},r.a.createElement(b.a,{exact:!0,path:"/",render:function(e){return n.loggedIn?r.a.createElement(ce,Object.assign({},e,{people:o.people,tasks:o.tasks,projects:o.projects,deletePerson:o.deletePerson,currentUser:n.auth.currentUser,editProject:o.editProject,addTask:o.addTask,deleteTask:o.deleteTask,editTask:o.editTask})):r.a.createElement(re,Object.assign({},e,{handleLogin:u}))}}),r.a.createElement(b.a,{exact:!0,path:"/projects",render:function(e){return r.a.createElement(B,e)}}),r.a.createElement(b.a,{exact:!0,path:"/people"},r.a.createElement(Q,null)),r.a.createElement(b.a,{exact:!0,path:"/signup",render:function(e){return r.a.createElement(ne,e)}}),r.a.createElement(b.a,{exact:!0,path:"/login",render:function(e){return r.a.createElement(re,Object.assign({},e,{handleLogin:u}))}}),r.a.createElement(b.a,{exact:!0,path:"/profile",render:function(e){return n.loggedIn?r.a.createElement(ce,Object.assign({},e,{deletePersonCallback:m,currentUser:n.auth.currentUser,editProject:o.editProject,addTask:o.addTask,deleteTask:o.deleteTask,editTask:o.editTask,handleLogout:s})):r.a.createElement(re,Object.assign({},e,{handleLogin:u}))}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(420);var oe=Object(o.d)(d,Object(o.a)(u.a)),ie="https://secure-shelf-48338.herokuapp.com/";l.a.render(r.a.createElement(i.a,{store:oe},r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[257,1,2]]]);
//# sourceMappingURL=main.a39208fd.chunk.js.map